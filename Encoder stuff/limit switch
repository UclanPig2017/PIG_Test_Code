// luke code for limit switches
#include "stm32f4xx_hal.h"
#include "stm32f4xx_hal_rcc.h"
#include "stm32f4xx_hal_gpio.h"

GPIO_InitDef.GPIO_Pin = GPIO_Pin_2;

void GPIO_Configure(void)
{
  //gpioclk b
  Gpio_InitTypeDef Gpio_InitStructure;
  __HAL_RCC_GPIOA_CLK_ENABLE();
  
  GPIO_InitStructure.Pin = GPIO_PIN_2; 
	GPIO_InitStructure.Mode = GPIO_MODE_INPUT;
	GPIO_InitStructure.Speed = GPIO_SPEED_FREQ_HIGH; 
	GPIO_InitStructure.Pull = GPIO_PULLUP;    //possible change depending on active high/low
	HAL_GPIO_Init(GPIOA, &GPIO_InitStructure);
  
}
  
  //pin setupb2 input
void main(void)
{
  int state = 0;
  while(1)
  {
    //pin read
    state =  HAL_GPIO_ReadPin(GPIO_TypeDef*GPIOB, uint16_t GPIO_Pin_2);
  }
}
